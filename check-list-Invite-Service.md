# –ß–ï–ö-–õ–ò–°–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò INVITE SERVICE

> **–ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ Invite Service –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö —Ä–∞—Å—Å—ã–ª–æ–∫ –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã**

## –§–ê–ó–ê 1: –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê –ò –ë–ê–ó–û–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê

### ‚úÖ 1.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [x] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `backend/invite-service/` —Å –ø–∞–ø–∫–∞–º–∏ app/, migrations/, tests/
- [x] –°–æ–∑–¥–∞—Ç—å Dockerfile –∏ requirements.txt —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- [x] –î–æ–±–∞–≤–∏—Ç—å invite-postgres –≤ docker-compose.yml
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å volume invite_postgres_data
- [x] –î–æ–±–∞–≤–∏—Ç—å invite-service –≤ docker-compose.yml —Å –ø–æ—Ä—Ç–æ–º 8002 (–∏–∑–º–µ–Ω–µ–Ω —Å 8003 –Ω–∞ 8002)

### ‚úÖ 1.2 –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [x] –°–æ–∑–¥–∞—Ç—å init.sql –¥–ª—è –ë–î invite_db –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è invite_user
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Alembic –º–∏–≥—Ä–∞—Ü–∏–∏
- [x] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏: InviteTask, InviteTarget, InviteTaskAccount, InviteExecutionLog
- [x] –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

### ‚úÖ 1.3 –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [x] –°–æ–∑–¥–∞—Ç—å core/config.py —Å Settings –∫–ª–∞—Å—Å–æ–º
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Vault —Å AppRole –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å JWT –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏–∑ Vault
- [x] –°–æ–∑–¥–∞—Ç—å database.py –¥–ª—è async SQLAlchemy

## –§–ê–ó–ê 2: API –ò –°–•–ï–ú–´ ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê

### ‚úÖ 2.1 Pydantic —Å—Ö–µ–º—ã
- [x] schemas/base.py - –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –∏ enum'—ã
- [x] schemas/invite_task.py - —Å—Ö–µ–º—ã –¥–ª—è –∑–∞–¥–∞—á (InviteTaskCreate/Update/Response) + —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ö–µ–º—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –ø–∞–≥–∏–Ω–∞—Ü–∏–∏, bulk –æ–ø–µ—Ä–∞—Ü–∏–π
- [x] schemas/target.py - —Å—Ö–µ–º—ã –¥–ª—è —Ü–µ–ª–µ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π + –∏–º–ø–æ—Ä—Ç, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, bulk –¥–µ–π—Å—Ç–≤–∏—è
- [ ] schemas/statistics.py - —Å—Ö–µ–º—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –æ—Ç—á–µ—Ç–æ–≤

### ‚úÖ 2.2 FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [x] main.py —Å –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- [ ] core/auth.py –¥–ª—è JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [x] Health check endpoints (/health, /api/v1/health/detailed)
- [x] Exception handlers –∏ CORS middleware

### ‚úÖ 2.3 CRUD —Å–µ—Ä–≤–∏—Å—ã
- [x] services —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ API endpoints —Å user isolation
- [x] –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ user_id
- [x] Transaction handling —Å rollback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- [x] Comprehensive error handling –∏ validation

## –§–ê–ó–ê 3: –ò–ù–¢–ï–ì–†–ê–¶–ò–ò –° –î–†–£–ì–ò–ú–ò –°–ï–†–í–ò–°–ê–ú–ò ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê

### ‚úÖ 3.1 Integration Service
- [x] services/integration_client.py - HTTP –∫–ª–∏–µ–Ω—Ç —Å retry –ª–æ–≥–∏–∫–æ–π –∏ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- [x] –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Integration Service API
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ä–µ—Ç—Ä–∞–∏ —Å exponential backoff
- [x] JWT —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ Vault –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### ‚úÖ 3.2 Parsing Service
- [ ] services/parsing_client.py - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞
- [ ] –ò–º–ø–æ—Ä—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏–∑ parsing –∑–∞–¥–∞—á
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤

## –§–ê–ó–ê 4: PLATFORM ADAPTERS ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê

### ‚úÖ 4.1 –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [x] adapters/base.py - InvitePlatformAdapter –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å
- [x] adapters/factory.py - PlatformAdapterFactory —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
- [x] –ö–ª–∞—Å—Å—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ InviteResult, RateLimitStatus, PlatformAccount
- [x] Rate limiting –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å Redis –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

### ‚úÖ 4.2 Telegram Adapter
- [x] adapters/telegram.py - TelegramInviteAdapter —á–µ—Ä–µ–∑ Integration Service
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ HTTP API (–Ω–µ –ø—Ä—è–º–∞—è Telethon)
- [x] –ú–µ—Ç–æ–¥—ã: initialize_accounts, send_invite, send_message, check_rate_limits
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: FloodWait, PrivacyRestriction, PeerFlood, UserNotMutualContact
- [x] Rate limiting (50 invites/day, 40 msg/day, 5 invites/hour)

### ‚úÖ 4.3 Rate Limiting System
- [x] utils/rate_limiter.py - Redis-based rate limiting
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ FloodWait –∏ PeerFlood —Å –±—É—Ñ–µ—Ä–∞–º–∏
- [x] –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤

## –§–ê–ó–ê 5: CELERY –í–û–†–ö–ï–†–´ ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê

### ‚úÖ 5.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Celery
- [x] workers/celery_app.py - –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å routing
- [x] –û—á–µ—Ä–µ–¥–∏: invite-high, invite-normal, invite-low —Å –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–µ–π
- [x] Routing –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –∏ —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RabbitMQ –∏ Redis backend

### ‚úÖ 5.2 –í–æ—Ä–∫–µ—Ä—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [x] workers/invite_worker.py - –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [x] execute_invite_task() - –≥–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ —Å batch processing
- [x] process_target_batch() - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–µ–π —Å round-robin
- [x] single_invite_operation() - —Ç–µ—Å—Ç–æ–≤—ã–µ –æ–¥–∏–Ω–æ—á–Ω—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

### ‚úÖ 5.3 Maintenance –≤–æ—Ä–∫–µ—Ä—ã
- [x] workers/maintenance_worker.py - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
- [x] cleanup_expired_tasks() - –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [x] calculate_task_progress() - –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–¥–∞—á
- [x] health_check_services() - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## –§–ê–ó–ê 6: API ENDPOINTS ‚úÖ –ë–ê–ó–û–í–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê

### ‚úÖ 6.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
- [x] api/v1/endpoints/tasks.py:
  - [x] POST /tasks - —Å–æ–∑–¥–∞–Ω–∏–µ
  - [x] GET /tasks - —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
  - [x] GET /tasks/{id} - –¥–µ—Ç–∞–ª–∏
  - [x] PUT /tasks/{id} - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  - [x] DELETE /tasks/{id} - —É–¥–∞–ª–µ–Ω–∏–µ
  - [x] POST /tasks/{id}/duplicate - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
  - [x] POST /tasks/bulk - –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (DELETE, PAUSE, RESUME, CANCEL, SET_PRIORITY)

### ‚úÖ 6.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π
- [x] api/v1/endpoints/targets.py:
  - [x] POST /tasks/{id}/targets - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
  - [x] POST /tasks/{id}/targets/bulk - –º–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç
  - [x] GET /tasks/{id}/targets - —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º
  - [x] PUT /tasks/{id}/targets/{target_id} - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞
  - [x] DELETE /tasks/{id}/targets/{target_id} - —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞
  - [x] POST /tasks/{id}/targets/bulk-action - –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - [x] GET /tasks/{id}/targets/stats - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º

### ‚úÖ 6.3 –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á
- [x] api/v1/endpoints/execution.py:
  - [x] POST /tasks/{id}/execute - –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Celery
  - [x] POST /tasks/{id}/pause - –ø–∞—É–∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - [x] POST /tasks/{id}/resume - –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - [x] POST /tasks/{id}/cancel - –æ—Ç–º–µ–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - [x] GET /tasks/{id}/status - –¥–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å —Å real-time –¥–∞–Ω–Ω—ã–º–∏
  - [x] GET /tasks/{id}/accounts - –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã —Å –ª–∏–º–∏—Ç–∞–º–∏
  - [x] POST /tasks/{id}/test-invite - —Ç–µ—Å—Ç–æ–≤–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ

### ‚úÖ 6.4 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
- [ ] api/v1/endpoints/statistics.py:
  - [ ] GET /tasks/{id}/status - —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
  - [ ] GET /tasks/{id}/stats - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - [ ] GET /tasks/{id}/report - —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
  - [ ] GET /tasks/{id}/logs - –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### ‚úÖ 6.5 –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- [ ] api/v1/endpoints/import.py:
  - [ ] POST /import/file - –∑–∞–≥—Ä—É–∑–∫–∞ CSV/XLSX/JSON
  - [ ] POST /import/parsing - –∏–∑ parsing-service
  - [ ] GET /import/validate - –≤–∞–ª–∏–¥–∞—Ü–∏—è
  - [ ] GET /accounts - –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

## –§–ê–ó–ê 7: –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### ‚úÖ 7.1 Prometheus –º–µ—Ç—Ä–∏–∫–∏
- [ ] utils/metrics.py - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ—Ç—Ä–∏–∫
- [ ] Counters: –∑–∞–¥–∞—á–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- [ ] Gauges: –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
- [ ] Histograms: –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ endpoints –∏ –≤–æ—Ä–∫–µ—Ä—ã

### ‚úÖ 7.2 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] utils/logging.py - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏
- [ ] JSON —Ñ–æ—Ä–º–∞—Ç –¥–ª—è ELK
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è sensitive –¥–∞–Ω–Ω—ã—Ö
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚úÖ 7.3 Alerting
- [ ] –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
- [ ] –û—à–∏–±–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏
- [ ] –û—á–µ—Ä–µ–¥–∏ Celery

## –§–ê–ó–ê 8: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### ‚úÖ 8.1 Unit —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç—ã Platform Adapters —Å mock API
- [ ] –¢–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –¢–µ—Å—Ç—ã rate limiting –ª–æ–≥–∏–∫–∏
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ 8.2 Integration —Ç–µ—Å—Ç—ã  
- [ ] API endpoints —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- [ ] Database –æ–ø–µ—Ä–∞—Ü–∏–∏
- [ ] –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚úÖ 8.3 E2E —Ç–µ—Å—Ç—ã
- [ ] –ü–æ–ª–Ω—ã–π workflow: —Å–æ–∑–¥–∞–Ω–∏–µ ‚Üí –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –æ—Ç—á–µ—Ç
- [ ] Pause/resume/cancel —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] Mock –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –§–ê–ó–ê 9: PRODUCTION –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

### ‚úÖ 9.1 Vault –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [x] –°–æ–∑–¥–∞—Ç—å INVITE_VAULT_ROLE_ID –∏ SECRET_ID (AppRole –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
- [x] –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –≤ Vault (invite-service-policy —Å–æ–∑–¥–∞–Ω–∞)
- [x] JWT secret –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Vault)
- [ ] Telegram API credentials –≤ Vault (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

### ‚úÖ 9.2 API Gateway –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å routes /api/invite/{path}
- [ ] JWT middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- [ ] Rate limiting
- [ ] Health checks

### ‚úÖ 9.3 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ production
- [ ] Grafana –¥–∞—à–±–æ—Ä–¥—ã
- [ ] ELK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –ª–æ–≥–æ–≤
- [ ] Alertmanager –ø—Ä–∞–≤–∏–ª–∞
- [ ] Performance –º–µ—Ç—Ä–∏–∫–∏

## –§–ê–ó–ê 10: FRONTEND –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### ‚úÖ 10.1 React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ Invites –≤ frontend
- [ ] –§–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á
- [ ] –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### ‚úÖ 10.2 Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- [ ] Polling —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á
- [ ] Progress indicators
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- [ ] Error handling

---

## –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò

### ‚úÖ Alpha –≤–µ—Ä—Å–∏—è (–±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å) - –ó–ê–í–ï–†–®–ï–ù–ê
- [x] –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] Telegram adapter –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Integration Service
- [x] –ë–î –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã
- [x] Celery –≤–æ—Ä–∫–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–¥–∞—á–∏
- [x] Health checks –æ—Ç–≤–µ—á–∞—é—Ç —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º Vault

### ‚úÖ Beta –≤–µ—Ä—Å–∏—è (–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é)
- [ ] Unit –∏ integration —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Vault –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] API Gateway –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Basic frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### ‚úÖ Production –≤–µ—Ä—Å–∏—è (–ø–æ–ª–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å)
- [ ] E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Security audit –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] Load —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Documentation –≥–æ—Ç–æ–≤–∞
- [ ] Runbook –æ–ø–µ—Ä–∞—Ü–∏–π —Å–æ–∑–¥–∞–Ω

---

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∑–∞–¥–∞—á–∏

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –∏–¥—ë—Ç –≤ **–æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ invite-worker** (Celery). –í –ª–æ–≥–∞—Ö **invite-service** –ø–æ—Å–ª–µ ¬´–ê–í–¢–û-–°–¢–ê–†–¢: –ó–∞–¥–∞—á–∞ N —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω–∞¬ª –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π –Ω–µ –±—É–¥–µ—Ç ‚Äî –¥–∞–ª—å—à–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–æ—Ä–∫–µ—Ä—ã.

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

1. **–ó–∞–ø—É—â–µ–Ω –ª–∏ invite-worker**
   ```bash
   docker-compose ps invite-worker
   ```
   –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `Up`. –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ—Ç –∏–ª–∏ –æ–Ω `Exited` ‚Äî –ø–æ–¥–Ω—è—Ç—å: `docker-compose up -d invite-worker`.

2. **–õ–æ–≥–∏ invite-worker** (–∑–¥–µ—Å—å –≤–∏–¥–Ω—ã –ø—Ä–∏—ë–º –∑–∞–¥–∞—á–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π)
   ```bash
   docker-compose logs invite-worker --tail 200
   ```
   –û–∂–∏–¥–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ:
   - `üöÄ CELERY WORKER: –ü–æ–ª—É—á–µ–Ω–∞ –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π: <task_id>`
   - `–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–∞ N –¥–ª—è –∑–∞–¥–∞—á–∏ <task_id>`
   - `üîç AccountManager: –ù–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –±–∞—Ç—á–∞ N —á–µ—Ä–µ–∑ Account Manager`

3. **RabbitMQ –∏ –æ—á–µ—Ä–µ–¥–∏**
   - –ó–∞–¥–∞—á–∏ –∫–ª–∞–¥—É—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏ `invite-high` (–∑–∞–ø—É—Å–∫ –∑–∞–¥–∞—á–∏) –∏ `invite-normal` (–±–∞—Ç—á–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π).
   - –í–æ—Ä–∫–µ—Ä —Å–ª—É—à–∞–µ—Ç –æ–±–∞: `--queues=invite-high,invite-normal,invite-low`.
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `rabbitmq` –∑–∞–ø—É—â–µ–Ω –∏ –∑–¥–æ—Ä–æ–≤: `docker-compose ps rabbitmq`.

4. **Integration Service –∏ Account Manager**
   - invite-worker –≤—ã–∑—ã–≤–∞–µ—Ç Integration Service (Account Manager API). –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä `integration-service` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω.
   - –í docker-compose —É `invite-worker` –¥–æ–±–∞–≤–ª–µ–Ω `depends_on: integration-service`, —á—Ç–æ–±—ã –≤–æ—Ä–∫–µ—Ä —Å—Ç–∞—Ä—Ç–æ–≤–∞–ª –ø–æ—Å–ª–µ –Ω–µ–≥–æ.

**–ò—Ç–æ–≥:** –µ—Å–ª–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–µ —É—Ö–æ–¥—è—Ç ‚Äî –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ **invite-worker**, –∞ –Ω–µ invite-service.

---

**–ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–π. –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º —ç—Ç–∞–ø–∞–º –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.** 